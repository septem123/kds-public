# zKillboard å‡»æ€ç»Ÿè®¡å·¥å…·

EVE Online Corporation Killmail Statistics Tool - è·å–å¹¶åˆ†æå†›å›¢çš„å‡»æ€å’ŒæŸå¤±æ•°æ®ã€‚

## åŠŸèƒ½ç‰¹æ€§

- **å‡»æ€ç»Ÿè®¡**: ç»Ÿè®¡å†›å›¢æˆå‘˜çš„å‡»æ€æ•°é‡ã€Final Blow
- **æŸå¤±ç»Ÿè®¡**: ç»Ÿè®¡å†›å›¢æˆå‘˜çš„æŸå¤±æ•°é‡å’Œæ€»ä»·å€¼
- **èˆ¹åªæ’è¡Œ**: ç»Ÿè®¡å„ç±»èˆ¹å‹çš„ä½¿ç”¨æ¬¡æ•°å’Œå‚ä¸äººæ•°
- **è§’è‰²åç§°**: è‡ªåŠ¨ä» ESI API è·å–è§’è‰²åç§°ï¼ˆä¸­æ–‡å¯è¯»ï¼Œé»˜è®¤å¯ç”¨ï¼‰
- **æ—¥æœŸè¿‡æ»¤**: æ”¯æŒæŒ‰å¹´ä»½ã€æœˆä»½ç­›é€‰æ•°æ®
- **å¤šç§è¾“å‡ºæ ¼å¼**: Markdown æ–‡ä»¶è¾“å‡ºåˆ° docs/ ç›®å½•

## å®‰è£…

```bash
npm install
```

## å¿«é€Ÿå¼€å§‹

```bash
# å‡»æ€ç»Ÿè®¡ï¼ˆé»˜è®¤ï¼Œè‡ªåŠ¨è·å–è§’è‰²åç§°ï¼Œè¾“å‡ºåˆ° docs/ï¼‰
npm run stats -- --corp 98626718

# æŸå¤±ç»Ÿè®¡
npm run stats -- --corp 98626718 --losses

# æŒ‰æ—¶é—´ç­›é€‰
npm run stats -- --corp 98626718 --year 2026 --month 01

# è‡ªå®šä¹‰æ’åº
npm run stats -- --corp 98626718 --sort kills --top 20      # æŒ‰å‡»æ€æ•°
npm run stats -- --corp 98626718 --sort finalblows         # æŒ‰ Final Blow
npm run stats -- --corp 98626718 --sort value              # æŒ‰ä»·å€¼ï¼ˆæŸå¤±ç»Ÿè®¡ï¼‰

# ç­›é€‰ç‰¹å®šç±»å‹
npm run stats -- --corp 98626718 --solo      # ä»… Solo å‡»æ€
npm run stats -- --corp 98626718 --wspace    # ä»… W-Space å‡»æ€
```

## è¾“å‡ºæ–‡ä»¶

ç»Ÿè®¡ç»“æœè¾“å‡ºåˆ° `docs/` ç›®å½•ï¼š
- `docs/{corp}-{time}.md` - å‡»æ€ç»Ÿè®¡
- `docs/{corp}-{time}-losses.md` - æŸå¤±ç»Ÿè®¡ï¼ˆä½¿ç”¨ --losses å‚æ•°ï¼‰

## å®Œæ•´å‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `-c, --corp <id>` | Corporation ID | 98626718 |
| `-p, --pages <n>` | è·å–é¡µæ•° | 10 |
| `-d, --delay <ms>` | è¯·æ±‚é—´éš”(æ¯«ç§’) | 1000 |
| `-s, --sort <field>` | æ’åºå­—æ®µ | kills |
| `-t, --top <n>` | æ˜¾ç¤ºå‰Nå | 100 |
| `--year <yyyy>` | æŒ‰å¹´ä»½ç­›é€‰ | - |
| `--month <mm>` | æŒ‰æœˆä»½ç­›é€‰ | - |
| `--names` | è·å–è§’è‰²åç§° | true (é»˜è®¤å¯ç”¨) |
| `--solo` | ä»… Solo å‡»æ€ | false |
| `--wspace` | ä»… W-Space å‡»æ€ | false |
| `--losses` | æŸå¤±ç»Ÿè®¡æ¨¡å¼ | false |

## è¾“å‡ºç¤ºä¾‹

```
============================================================
  EVE Online å‡»æ€ç»Ÿè®¡å·¥å…·
  Corporation ID: 98626718
============================================================

ğŸ“Š å‚ä¸è€…å‡»æ€æ’å (Top 5)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ’å   è§’è‰²åç§°                     å‡»æ€æ•°       Final Blow  æ€»ä¼¤å®³
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1    Br1ck66                  66        3           55.9k
2    honghonghong             62        6           65.6k
3    Blonde Vic               59        5           68.1k

ğŸš¢ èˆ¹åªç±»å‹ä½¿ç”¨ç»Ÿè®¡ (Top 5)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ’å   èˆ¹å‹                       å‡»æ€æ•°         ä½¿ç”¨äººæ•°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1    å¹¼é¾™çº§æµ·å†›å‹                   334         12
2    å”¤é£çº§                      144         7

ğŸ‘¤ Top 5 å‚ä¸è€…èˆ¹åªè¯¦ç»†ä½¿ç”¨æƒ…å†µ

Br1ck66 (66 kills):
  - å¹¼é¾™çº§æµ·å†›å‹: 61
  - æ´›åŸºçº§: 4
```

## é¡¹ç›®ç»“æ„

```
zkb-killmail/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api.ts          # zKillboard API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ esi.ts          # ESI API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ index.ts        # ä¸»å…¥å£ (Commander)
â”‚   â”œâ”€â”€ stats.ts        # ç»Ÿè®¡æ¨¡å— (å‡»æ€ + æŸå¤±)
â”‚   â”œâ”€â”€ types.ts        # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ data/
â”‚       â””â”€â”€ ships-zh.json   # ä¸­æ–‡èˆ¹å‹æ•°æ®åº“ (558ä¸ª)
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ fetch-ship-names.ts      # è·å–èˆ¹å‹æ•°æ®
â”‚   â””â”€â”€ generate-ship-mapping.ts # ç”Ÿæˆä¸­æ–‡èˆ¹å‹æ˜ å°„
â”œâ”€â”€ docs/                 # ç»Ÿè®¡è¾“å‡ºç›®å½•
â”œâ”€â”€ cache/               # API ç¼“å­˜ç›®å½•
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## æ•°æ®æ¥æº

- **å‡»æ€æ•°æ®**: [zKillboard API](https://github.com/zKillboard/zKillboard/wiki/API-(Killmails))
- **è§’è‰²åç§°**: [ESI API](https://esi.evetech.net/latest/)
- **èˆ¹å‹åç§°**: ESI API (Category 6: Ships, language=zh)

## å¸¸ç”¨å‘½ä»¤

```bash
# æ„å»ºé¡¹ç›®
npm run build

# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# è·å–èˆ¹å‹æ•°æ®ï¼ˆä» ESI APIï¼‰
npm run fetch-ships

# ç”Ÿæˆä¸­æ–‡èˆ¹å‹æ˜ å°„è¡¨
npm run gen-ship-mapping

# è¿è¡Œå‡»æ€ç»Ÿè®¡
npm run stats
```

## ç¯å¢ƒå˜é‡

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```env
# Corporation ID
CORPORATION_ID=98626718

# API è¯·æ±‚è®¾ç½®
MAX_PAGES=10
REQUEST_DELAY_MS=1000

# User-Agent (å¿…å¡«)
USER_AGENT="your-name your@email.com"
```

## æ³¨æ„äº‹é¡¹

1. **API é™åˆ¶**: zKillboard API æ¯æ¬¡æœ€å¤šè¿”å› 1000 æ¡è®°å½•
2. **è¯·æ±‚é¢‘ç‡**: è¯·åˆç†æ§åˆ¶è¯·æ±‚é—´éš”ï¼Œé¿å…è¢«é™åˆ¶
3. **è§’è‰²åç§°**: é»˜è®¤è‡ªåŠ¨è·å–ï¼ˆä¼šå¢åŠ é¢å¤–çš„ API è°ƒç”¨ï¼‰
4. **æ•°æ®é‡**: å…¨é‡æ•°æ®å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´è·å–
5. **æ•°æ®è¿‡æ»¤**: å‡»æ€ç»Ÿè®¡è‡ªåŠ¨è¿‡æ»¤ victim æ˜¯å¤ªç©ºèˆ±ï¼ˆshipTypeID: 670ï¼‰çš„è®°å½•

## è®¸å¯è¯

MIT
